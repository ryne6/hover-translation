# Hover Translation - 安装和使用指南

## 📦 安装步骤

### 方式一：开发者模式安装（推荐用于测试）

1. **打开 Chrome 扩展管理页面**
   - 在地址栏输入：`chrome://extensions/`
   - 或者点击右上角菜单 → 更多工具 → 扩展程序

2. **开启开发者模式**
   - 在页面右上角，打开"开发者模式"开关

3. **加载扩展**
   - 点击"加载已解压的扩展程序"按钮
   - 选择项目的 `dist/` 文件夹
   - 点击"选择"

4. **确认安装**
   - 扩展图标应该出现在 Chrome 工具栏
   - 如果没有看到图标，点击工具栏上的拼图图标（扩展），然后固定 Hover Translation

### 方式二：从 ZIP 文件安装

1. 解压 `hover-translation.zip` 文件到任意文件夹
2. 按照方式一的步骤 1-4 操作，选择解压后的文件夹

## 🚀 使用方法

### 基本使用

1. **选择文本翻译**
   - 在任何网页上，用鼠标选中要翻译的文本
   - 翻译结果会自动显示在悬浮框中
   - 最小选择长度：1 个字符
   - 最大选择长度：1000 个字符

2. **复制翻译结果**
   - 点击悬浮框中的复制按钮（📋 图标）
   - 翻译结果会复制到剪贴板

3. **关闭悬浮框**
   - 点击悬浮框的关闭按钮（×）
   - 按 ESC 键
   - 点击页面其他位置

### 设置配置

1. **打开设置面板**
   - 点击工具栏上的扩展图标
   - 设置面板会弹出

2. **可用设置选项**
   - 源语言：选择要翻译的原文语言（支持自动检测）
   - 目标语言：选择翻译后的目标语言
   - 翻译服务提供商：Google Translate / 百度翻译
   - 启用/禁用翻译功能

3. **查看翻译历史**
   - 在设置面板中点击"历史记录"标签
   - 查看最近 100 条翻译记录
   - 可以清空历史记录

4. **缓存管理**
   - 查看缓存大小和条目数
   - 清空翻译缓存以释放空间

## 🎨 支持的语言

- 中文（简体）
- 英语
- 日语
- 韩语
- 法语
- 德语
- 西班牙语
- 俄语
- 意大利语
- 葡萄牙语
- 阿拉伯语
- 印地语

## 🔧 功能特性

### ✅ 已实现功能

- ✨ 智能文本选择检测
- 🌐 自动语言识别
- 💾 翻译结果缓存
- 📝 翻译历史记录（最多 100 条）
- 🎯 优雅的悬浮框定位
- 📋 一键复制翻译结果
- ⚙️ 灵活的设置选项
- 🚀 快速响应

### 🔜 计划功能

- 🔊 文本朗读（TTS）
- 🔖 收藏翻译结果
- 📊 使用统计
- 🎨 自定义主题

## ⚠️ 故障排除

### 问题：翻译功能不工作

**解决方法：**
1. 确保扩展已启用（在 `chrome://extensions/` 中检查）
2. 刷新页面后再次尝试
3. 检查浏览器控制台是否有错误信息（F12 打开开发者工具）

### 问题：无法保存设置

**解决方法：**
1. 检查 Chrome 存储权限是否正常
2. 尝试清空浏览器缓存
3. 重新安装扩展

### 问题：悬浮框位置不正确

**解决方法：**
1. 悬浮框会自动调整位置避免超出屏幕边界
2. 如果位置仍然不合适，请刷新页面

### 问题：翻译速度慢

**可能原因：**
1. 网络连接速度慢
2. 翻译 API 响应慢
3. 第一次翻译需要建立连接，后续会有缓存加速

### 问题：Chrome Storage API 错误

如果看到类似 "Cannot read properties of undefined (reading 'local')" 的错误：

**解决方法：**
1. 确保在 Chrome 浏览器中运行（不支持其他浏览器）
2. 确保扩展正确安装在 `chrome://extensions/`
3. 尝试重新加载扩展
4. 完全卸载后重新安装

## 📝 开发说明

### 构建项目

```bash
# 安装依赖
npm install

# 开发模式（监听文件变化）
npm run dev

# 生产构建
npm run build

# 运行测试
npm test

# 打包为 zip
npm run package

# 清理构建文件
npm run clean
```

### 项目结构

```
hover-translation/
├── src/
│   ├── content/         # 内容脚本
│   ├── background/      # 后台服务
│   ├── popup/          # 弹出窗口
│   ├── shared/         # 共享工具
│   ├── styles/         # 样式文件
│   └── manifest.json   # 扩展配置
├── dist/               # 构建输出（安装此文件夹）
├── tests/              # 测试文件
└── assets/             # 资源文件
```

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📮 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues
- Email: your-email@example.com

---

**享受智能翻译体验！** 🎉
