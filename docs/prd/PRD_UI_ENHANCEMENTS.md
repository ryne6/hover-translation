# PRD: 设置与悬浮框交互优化

## 背景

- 当前 Options 页面存在两个独立的“保存设置”按钮（侧栏与主内容区各一个），用户难以判断两者差异，且重复的 `id` 造成脚本依赖隐患。
- 悬浮翻译框在点击自身时会立即消失，导致用户无法操作内部按钮（复制、发音等），影响核心体验。

## 目标

1. **统一保存入口**：仅保留一个明确的保存/重置区域，避免混乱。
2. **优化悬浮框交互**：允许用户在悬浮框内部进行操作，不因点击框内区域而关闭。

## 功能需求

### F1. 保存入口精简

- Options 页面仅保留主内容区的“保存所有设置 / 重置设置”按钮。
- 移除侧栏重复按钮及相关样式。
- 确保 `options.js` 中的事件绑定依旧只指向唯一按钮。

### F2. 悬浮框点击保持

- 用户点击悬浮框内部的任意元素不会触发隐藏。
- 点击页面其它区域或按下 `Esc` 仍然关闭悬浮框。
- 行为应与缓存、复制等操作兼容。

## 验收标准

- Options 页只出现一个保存操作入口，保存后成功提示与后台配置刷新正常。
- 点击悬浮框内部的复制、关闭等按钮时，悬浮框保持显示（除非点击关闭按钮）。
- 现有测试（`npm run test`）通过。

## Todo List

1. 更新 Options 页面结构：
   - 移除侧栏保存/重置按钮。
   - 检查并清理不再使用的样式。
2. 确认/调整 `options.js` 中保存、重置绑定逻辑。
3. 调整文本选择逻辑：
   - 避免因悬浮框交互触发 `selectionCleared`。
4. 验证悬浮框在内部交互时保持可见。
5. 运行现有单元测试并手动验证核心场景。
